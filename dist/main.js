var Client=function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){var o=n(1),a=n(2);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var r={insert:"head",singleton:!1};o(a,r);t.exports=a.locals||{}},function(t,e,n){"use strict";var o,a=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function s(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function d(t,e){for(var n={},o=[],a=0;a<t.length;a++){var r=t[a],d=e.base?r[0]+e.base:r[0],c=n[d]||0,l="".concat(d," ").concat(c);n[d]=c+1;var u=s(l),p={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(i[u].references++,i[u].updater(p)):i.push({identifier:l,updater:y(p,e),references:1}),o.push(l)}return o}function c(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var a=n.nc;a&&(o.nonce=a)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var i=r(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var l,u=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function p(t,e,n,o){var a=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=u(e,a);else{var r=document.createTextNode(a),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(r,i[e]):t.appendChild(r)}}function f(t,e,n){var o=n.css,a=n.media,r=n.sourceMap;if(a?t.setAttribute("media",a):t.removeAttribute("media"),r&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var m=null,g=0;function y(t,e){var n,o,a;if(e.singleton){var r=g++;n=m||(m=c(e)),o=p.bind(null,n,r,!1),a=p.bind(null,n,r,!0)}else n=c(e),o=f.bind(null,n,e),a=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else a()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=a());var n=d(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var a=s(n[o]);i[a].references--}for(var r=d(t,e),c=0;c<n.length;c++){var l=s(n[c]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=r}}}},function(t,e,n){(e=n(3)(!1)).push([t.i,".inputs{width:70%;max-width:700px;margin:auto}.holder{display:grid;text-align:center}.entry{background:rgba(94,113,155,0.4);border-radius:15px;margin-top:15px;margin-bottom:15px}#entryHolder{margin-top:10px}.holiday{background:rgba(59,140,227,0.4);padding-top:25px;margin-bottom:25px}.holiday-picture img{display:block;margin-left:auto;margin-right:auto;width:90%}.description-day{padding-bottom:10px}label{display:block;font-size:24px;margin:auto;text-align:left;padding-top:15px}input{display:block;height:50px;width:66%;background:#22b2da;color:#041f3c;font-size:15px;font-family:'Oswald', sans-serif;border:none;margin:auto;padding-left:2%;padding-right:2%}::placeholder{color:#4a627b;font-family:'Oswald', sans-serif}:-ms-input-placeholder{color:#4a627b;font-family:'Oswald', sans-serif}::-ms-input-placeholder{color:#4a627b;font-family:'Oswald', sans-serif}@media (min-width: 700px){.inputs{display:grid;grid-template-columns:1fr 1fr;width:80%;margin:auto}}footer{display:fill;justify-content:space-between;padding:15px 40px;background-color:#3279b0}.footer_notes{text-align:center}#app{background:#88cbab;background:linear-gradient(180deg, #fff 0%, #caf7f4 100%);color:#030b0b;justify-content:center;font-size:1.4em;font-family:'Oswald', sans-serif;padding:15px;min-height:100vh}.wrapper{max-width:800px;margin:auto}body{margin:0;font-size:16px}h1{font-size:36px}p{width:70%;margin:auto;padding-bottom:20px;text-align:justify}.inputs{width:70%;max-width:700px;margin:auto}.holder{display:grid;text-align:center}.entry{background:rgba(94,113,155,0.4);border-radius:15px;margin-top:15px;margin-bottom:15px}#entryHolder{margin-top:10px}.holiday{background:rgba(59,140,227,0.4);padding-top:25px;margin-bottom:25px}.holiday-picture img{display:block;margin-left:auto;margin-right:auto;width:90%}.description-day{padding-bottom:10px}label{display:block;font-size:24px;margin:auto;text-align:left;padding-top:15px}input{display:block;height:50px;width:66%;background:#22b2da;color:#041f3c;font-size:15px;font-family:'Oswald', sans-serif;border:none;margin:auto;padding-left:2%;padding-right:2%}::placeholder{color:#4a627b;font-family:'Oswald', sans-serif}:-ms-input-placeholder{color:#4a627b;font-family:'Oswald', sans-serif}::-ms-input-placeholder{color:#4a627b;font-family:'Oswald', sans-serif}@media (min-width: 700px){.inputs{display:grid;grid-template-columns:1fr 1fr;width:80%;margin:auto}}.delete{padding:15px}.button{margin:auto;display:grid;text-align:center;padding-top:20px;padding-bottom:20px}button{width:70%;max-width:350px;height:50px;background:#3b4a6b;color:#83d8ac;font-size:26px;font-family:'Oswald', sans-serif;border:none;box-shadow:2px 4px 5px #444;transition:0.4s;cursor:pointer;margin:auto}button span{display:inline-block;position:relative;transition:0.5s}button span:after{content:'\\00bb';position:absolute;opacity:0;top:0;right:-20px;transition:0.5s}button:hover span{padding-right:20px}button:hover span:after{opacity:1;right:0}.headline{color:#266559;font-size:3em;padding-top:25px;padding-bottom:25px}.title{color:#90a0c2;font-weight:bold;font-size:1.5em;padding-top:15px}.box{border:3px solid red}input:focus,select:focus,textarea:focus,button:focus{outline:none}\n",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var a=(i=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),d="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(d," */")),r=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[n].concat(r).concat([a]).join("\n")}var i,s,d;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var a={};if(o)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(a[i]=!0)}for(var s=0;s<t.length;s++){var d=[].concat(t[s]);o&&a[d[0]]||(n&&(d[2]?d[2]="".concat(n," and ").concat(d[2]):d[2]=n),e.push(d))}},e}},function(t,e,n){"use strict";n.r(e),n.d(e,"updateUI",(function(){return s})),n.d(e,"clickBtn",(function(){return a})),n.d(e,"detectDate",(function(){return l}));var o=[];function a(t){t.addEventListener("click",(function(t){(function(){if(""===document.getElementById("postCity").value)return alert("Please enter a city"),!1;return!0})()&&async function(){await(async()=>{const t=document.getElementById("postCity").value,e=document.getElementById("postCountry").value,n=await fetch("http://localhost:5000/geo",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({city:t,country:e})});try{const t=(await n.json()).geonames[0];if(t)return t;throw new Error("City not found")}catch(t){alert("City not found"),console.log("postCity function error",t)}})().then(t=>{const e=t.name,n=t.countryName,o=t.lat,a=t.lng,r=function(){const t=document.getElementById("postStartDate").value,e=document.getElementById("postEndDate").value,n=new Date(t).getTime()-(new Date).getTime(),o=new Date(e).getTime()-new Date(t).getTime(),a=n/864e5+1,r=o/864e5;return{startDate:t,endDate:e,daysToStartDate:Math.trunc(a),daysToEndDate:Math.trunc(a)+r,length:r+1}}(),i=(async(t,e,n,o,a)=>{if(a.daysToEndDate>16||a.daysToEndDate<0)var r=!0;else r=!1;const i=await fetch("http://localhost:5000/weather",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({city:t,country:e,lat:n,lon:o,future:r,daysToStartDate:a.daysToStartDate,startDate:a.startDate,endDate:a.endDate,length:a.length})});try{return await i.json()}catch(t){console.log("postWeather function error",t)}})(e,n,o,a,r),s=(async(t,e)=>{const n=await fetch("http://localhost:5000/pixabay",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({city:t,country:e})});try{return(await n.json()).webformatURL}catch(t){console.log("postPicture function error",t)}})(e,n);return Promise.all([i,e,n,r,s]).then(t=>t)}).then(t=>{!function(t){let e={city:t[1],country:t[2],startDate:t[3].startDate,daysToStartDate:t[3].daysToStartDate,daysToEndDate:t[3].daysToEndDate,weather:t[0],picture:t[4],length:t[3].length};o.push(e),r(o)}(t)}).then(()=>{document.getElementById("postCity").value="",document.getElementById("postCountry").value="",document.getElementById("postStartDate").value="",document.getElementById("postEndDate").value="",s()})}()}))}function r(t){localStorage.setItem("db",JSON.stringify(t))}function i(){return JSON.parse(localStorage.getItem("db"))}const s=async()=>{o=null===i()?[]:i(),c(),function(){const t=document.getElementById("entryHolder"),e=i();if(e){e.sort((t,e)=>t.daysToStartDate>e.daysToStartDate?1:-1),t.innerHTML="";for(let o in e){const a=e[o];if(void 0===a.country)var n=a.city;else n=`${a.city}, ${a.country}`;let r="";if(a.daysToEndDate>=0&&a.daysToEndDate<=16){r+='\n                <h4 style="margin-bottom: 0px">\n                    Weather breakdown\n                </h4>\n            ';for(let t in a.weather){let e=a.weather[t];r+=`\n                    <div class="description-day">\n                        Day ${parseInt(t)+1}: High: ${e.max_temp} Low: ${e.min_temp} <br>\n                        ${e.weather.description}\n                    </div>\n\n                `}}else{let t=a.weather[0];r=`\n                <h4 style="margin-bottom: 0px">\n                    Current weather\n                </h4>\n                <div class="description-day">\n                    High: ${t.max_temp} Low: ${t.min_temp} <br>\n                    ${t.weather.description}\n                </div>\n\n                `}t.innerHTML+=`\n            <div class='holiday' id='${o}'>\n                <div class='holiday-picture'><img src=${a.picture}></div>\n                <div class='description'>\n                \n                    <h4 class='holiday-destination' style="margin-bottom: 0px">${n}</h4>\n                    <div>\n                        Departure in ${a.daysToStartDate} days on ${a.startDate}<br>\n                        Length of trip: ${a.length} days\n                    </div>\n                    \n                    ${r}\n\n                </div>\n                <div class="delete">\n                    <button type="submit"> <span>Remove trip</span></button>\n                </div>\n            </div>\n        `}}}(),function(){const t=document.getElementsByClassName("delete");for(let e of t)e.addEventListener("click",t=>{if("SPAN"===t.path[0].tagName)var e=t.path[3];else e=t.path[2];let n=e.id,a=e.children[1].textContent.trim().split("\n")[0];confirm(`Are you sure you want to delete your holiday to ${a}?`)&&((o=i()).sort((t,e)=>t.daysToStartDate>e.daysToStartDate?1:-1),o.splice(n,1),r(o),s())})}(),function(){let t=document.getElementById("HolidaysTitle");0===o.length?t.innerText="":t.innerText||(t.innerText="Holidays coming up")}()};function d(t){return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)}function c(t=null){if(t)n=new Date(t.value);else{var e=new Date,n=new Date;document.getElementById("postStartDate").value=d(e)}n.setDate(n.getDate()+1),document.getElementById("postEndDate").value=d(n)}function l(t){t.addEventListener("input",()=>{c(t)})}n(0);document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("generate"),e=(document.getElementById("feelings"),document.getElementById("postStartDate"));s(),a(t),l(e)})}]);